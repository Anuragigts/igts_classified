(function(e,t,i){e.jqBoxSlider=e.jqBoxSlider||{};var n={},r=!0,o={},s={speed:800,responsive:!0,timeout:5e3,autoScroll:!1,pauseOnHover:!1,effect:"scrollVert3d",perspective:1e3};n.init=function(e){var i=t.extend({},s,e),r=n.slideAnimator(i.effect);return this.each(function(){var e=t(this),n=t.extend({},i),o=e.children();e.data("bssettings",n),n.slideAnimator=r,n.slideAnimator.initialize(e,o,n),o.eq(n.bsfaceindex||0).addClass("jbs-current"),a(e,n),n.autoScroll&&(n.autointv=setInterval(function(){f(e)},n.timeout+n.speed),n.pauseOnHover&&e.on("hover",u)),n.responsive&&jqBoxSlider.responder&&jqBoxSlider.responder.watch(e)})},n.playPause=function(){return this.each(function(){u.call(t(this))})},n.showSlide=function(e){return e=parseInt(e,10),this.each(function(){var i=t(this);h(i),f(i,e)})},n.next=function(){return this.each(function(){var e=t(this);f(e)})},n.prev=function(){return this.each(function(){var e=t(this);f(e,null,!0)})},n.registerAnimator=function(e,i){t.each(e.split(","),function(e,t){o[t]=i}),i._cacheOriginalCSS=b,"function"==typeof i.configure&&i.configure(r,g)},n.slideAnimator=function(e){if("object"==typeof o[e])return o[e];throw Error("The slide animator for the "+e+" effect has not been registered")},n.option=function(e,n){if(n===i)return(this.data("bssettings")||{})[e];if("effect"===e)throw Error("Effect can only be set during plugin initialisation");return this.each(function(){var i=t(this),r=i.data("bssettings")||{},o=p(i.children(),r);r[e]=n,h(i,r),"function"==typeof r.slideAnimator.reset&&r.slideAnimator.reset(i,o,r)})},n.destroy=function(){return this.each(function(){var e=t(this),i=e.data()||{},n=i.bssettings;n&&"object"==typeof n.slideAnimator&&(clearInterval(n.autointv),n.slideAnimator.destroy(e,n),c(n),e.removeData("bssettings").removeClass("jbs-in-motion").find(".jbs-current").removeClass("jbs-current"))})},n.resize=function(e){return t.each(e||this,function(e,i){var n=t(i),r=n.data("bssettings");r&&r.slideAnimator&&t.isFunction(r.slideAnimator.resize)&&r.slideAnimator.resize(n,p(n,r),r)})},t.extend(jqBoxSlider,n);var a=function(e,i){var n=t();null!=i.next&&(n=n.add(t(i.next).on("click",{reverse:!1},l))),null!=i.prev&&(n=n.add(t(i.prev).on("click",{reverse:!0},l))),null!=i.pause&&(n=n.add(t(i.pause).on("click",d))),n.data("bsbox",e)},c=function(e){t(e.next,e.prev,e.pause).off("click",l).off("click",d).removeData("bsbox")},l=function(e){var n=t(this).data("bsbox");h(n),f(n,i,e.data.reverse),e.preventDefault()},d=function(e){var i=t(this),n=i.data("bsbox");u.call(n),i.toggleClass("paused"),e.preventDefault()},u=function(e,i,n){var r,o=t(this);n=n||o.data("bssettings"),r=null!=n.autointv,"function"==typeof n.onplaypause&&n.onplaypause.call(o,r?"pause":"play"),(!r&&!i||(n.autointv=clearInterval(n.autointv),i))&&(n.autointv=setInterval(function(){f(o)},n.timeout+n.speed))},f=function(e,i,n){var r,o,s,a,c=e.data("bssettings"),l=p(e,c);r=c.bsfaceindex||0,o=v(r,l.length,n,i),e.hasClass("jbs-in-motion")||-1===o||(s=l.eq(r),a=l.eq(o),e.addClass("jbs-in-motion"),"function"==typeof c.onbefore&&c.onbefore.call(e,s,a,r,o),t.extend(c,c.slideAnimator.transition(t.extend({$box:e,$slides:l,$currSlide:s,$nextSlide:a,reverse:n,currIndex:r,nextIndex:o},c))),setTimeout(function(){e.removeClass("jbs-in-motion"),s.removeClass("jbs-current"),a.addClass("jbs-current"),"function"==typeof c.onafter&&c.onafter.call(e,s,a,r,o)},c.speed),c.bsfaceindex=o)},p=function(e,t){var i=e.children();return"function"==typeof t.slideFilter&&(i=i.filter(t.slideFilter)),"function"==typeof t._slideFilter&&(i=i.filter(function(e){return t._slideFilter.call(i,e,t)})),i},h=function(e,t){t||(t=e.data("bssettings")||{}),t.autoScroll&&u.call(e,i,!0,t)},v=function(e,t,i,n){var r=n;return null==r&&(r=i?0>e-1?t-1:e-1:t>e+1?e+1:0),r===e||r>=t||0>r?-1:r},b=function(e,i,n,r){var o=e.get(0),s=["position","top","left","display","overflow","width","height","zIndex"].concat(r||[]);n.origCSS||(n.origCSS={}),n.origCSS[i]||(n.origCSS[i]={}),t.each(s,function(e,t){n.origCSS[i][t]=o.style[t]})},g=function(){var e=document.body.style,t="";return"webkitTransition"in e&&(t="-webkit-"),"MozTransition"in e&&(t="-moz-"),r="webkitPerspective"in e||"MozPerspective"in e||"perspective"in e,t}();t.fn.boxSlider=function(e){return"string"==typeof e&&"function"==typeof n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):n.init.apply(this,arguments)}})(window,jQuery||Zepto),function(e){e.jqBoxSlider=e.jqBoxSlider||{};var t=[],n=0,r=!1;jqBoxSlider.responder={isWatching:function(){return r},watch:function(i){t.push(i),r||$(e).on("resize",o)},stopWatching:function(n){var s=-1;$.each(t,function(e,t){return t===n?(s=e,!1):void 0}),-1!==i&&t.splice(s,1),0===t.length&&($(e).off("resize",o),r=!1)}};var o=function(){clearTimeout(n),n=setTimeout(function(){$.each(t,function(e,t){jqBoxSlider.resize(t)})},20)}}(this),function(e,t){"use strict";e.jqBoxSlider.registerAnimator("tile3d,tile",function(){var e={},i=!0,n="";e.configure=function(e,t){i=e,n=t},e.initialize=function(i,n,r){this._cacheOriginalCSS(i,"box",r),r.tileGrid=this.calculateGrid(i,n,r),r.$tileWrapper=t("<div />"),r._slideFilter=function(e,t){return this.get(e)!==t.$tileWrapper.get(0)},i.append(r.$tileWrapper),e.applyStyling(i,n,r)},e.calculateGrid=function(e,t,i){var n=t.first().outerHeight(),r=i.tileRows||8,o=n/r,s=Math.ceil(e.width()/o);return{cols:s,rows:r,sideLength:o,height:n}},e.applyStyling=function(e,n,s){var a=r(n.eq(s.bsfaceindex||0)),c=t(),l=0,d=0,u=0,f=0;for(-1==="fixed absolute relative".indexOf(e.css("position"))&&e.css("position","relative"),e.css({height:s.tileGrid.height+"px",overflow:"hidden"}),s.$tileWrapper.css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}),n.hide();s.tileGrid.rows>u;++u)for(d=u*s.tileGrid.sideLength,f=0;s.tileGrid.cols>f;++f)l=f*s.tileGrid.sideLength,c=c.add(o({fromTop:d,fromLeft:f*s.tileGrid.sideLength,imgURL:a,side:s.tileGrid.sideLength,supports3d:i&&"tile3d"===s.effect,boxWidth:e.innerWidth(),boxHeight:e.innerHeight()}));s.$tileWrapper.html(c)},e.transition=function(e){var t,o=e.$tileWrapper.find(".bs-tile"),s=e.rowOffset||100,a=(e.speed-s*(e.tileGrid.rows-1))/e.tileGrid.cols,c=r(e.$nextSlide),l=e.nextFace||"back",d=".bs-tile-face-"+l,u={},f=0;for("back"===l?(u.nextFace="front",t=180):(u.nextFace="back",t=0),o.find(d).css("background-image","url("+c+")");e.tileGrid.rows>f;++f)(function(){var r=f*e.tileGrid.cols,c=r+e.tileGrid.cols,l=f*s,p=0;setTimeout(function(){for(;c>r;++r)(function(){var s=p*a,c=o.eq(r);setTimeout(function(){i&&"tile3d"===e.effect?c.css(n+"transform","rotate3d(0,1,0,"+t+"deg)"):c.find(".bs-tile-face-"+u.nextFace).fadeOut(100,function(){c.find(d).fadeIn(300)})},s)})(),p+=1},l)})();return u},e.reset=function(e,t){e.children().show(),t.origCSS&&e.css(t.origCSS.box)},e.destroy=function(e,t){this.reset(e,t),t.$tileWrapper.remove(),delete t.nextface,delete t.tileGrid,delete t.$tileWrapper,delete t._slideFilter},e.resize=function(e,t,i){this.reset(e,i),i.tileGrid=this.calculateGrid(e,t,i),delete i.nextface,this.applyStyling(e,t,i)};var r=function(e){return e.attr("src")||e.find("img").attr("src")},o=function(e){var i=t(document.createElement("div")),r=t(document.createElement("div")),o=t(document.createElement("div")),s=t(document.createElement("div"));return i.css({position:"absolute",top:e.fromTop,left:e.fromLeft,width:e.side,height:e.side}),r.addClass("bs-tile").css({width:e.side,height:e.side}).appendTo(i),s.addClass("bs-tile-face-back"),o.addClass("bs-tile-face-front").css("backgroundImage","url("+e.imgURL+")").add(s).css({width:e.side,height:e.side,backgroundPosition:-e.fromLeft+"px "+-e.fromTop+"px",backgroundSize:e.boxWidth+"px "+e.boxHeight+"px",position:"absolute",top:0,left:0}).appendTo(r),e.supports3d?(i.css(n+"perspective",400),r.css(n+"transform-style","preserve-3d").css(n+"transition",n+"transform .4s"),o.add(s).css(n+"backface-visibility","hidden"),s.css(n+"transform","rotateY(180deg)")):s.css("display","none"),i};return e}())}(window,jQuery||Zepto);