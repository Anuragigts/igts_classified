(function(e,t,i){e.jqBoxSlider=e.jqBoxSlider||{};var n={},r=!0,s={},o={speed:800,responsive:!0,timeout:5e3,autoScroll:!1,pauseOnHover:!1,effect:"scrollVert3d",perspective:1e3};n.init=function(e){var i=t.extend({},o,e),r=n.slideAnimator(i.effect);return this.each(function(){var e=t(this),n=t.extend({},i),s=e.children();e.data("bssettings",n),n.slideAnimator=r,n.slideAnimator.initialize(e,s,n),s.eq(n.bsfaceindex||0).addClass("jbs-current"),a(e,n),n.autoScroll&&(n.autointv=setInterval(function(){f(e)},n.timeout+n.speed),n.pauseOnHover&&e.on("hover",u)),n.responsive&&jqBoxSlider.responder&&jqBoxSlider.responder.watch(e)})},n.playPause=function(){return this.each(function(){u.call(t(this))})},n.showSlide=function(e){return e=parseInt(e,10),this.each(function(){var i=t(this);h(i),f(i,e)})},n.next=function(){return this.each(function(){var e=t(this);f(e)})},n.prev=function(){return this.each(function(){var e=t(this);f(e,null,!0)})},n.registerAnimator=function(e,i){t.each(e.split(","),function(e,t){s[t]=i}),i._cacheOriginalCSS=v,"function"==typeof i.configure&&i.configure(r,g)},n.slideAnimator=function(e){if("object"==typeof s[e])return s[e];throw Error("The slide animator for the "+e+" effect has not been registered")},n.option=function(e,n){if(n===i)return(this.data("bssettings")||{})[e];if("effect"===e)throw Error("Effect can only be set during plugin initialisation");return this.each(function(){var i=t(this),r=i.data("bssettings")||{},s=p(i.children(),r);r[e]=n,h(i,r),"function"==typeof r.slideAnimator.reset&&r.slideAnimator.reset(i,s,r)})},n.destroy=function(){return this.each(function(){var e=t(this),i=e.data()||{},n=i.bssettings;n&&"object"==typeof n.slideAnimator&&(clearInterval(n.autointv),n.slideAnimator.destroy(e,n),l(n),e.removeData("bssettings").removeClass("jbs-in-motion").find(".jbs-current").removeClass("jbs-current"))})},n.resize=function(e){return t.each(e||this,function(e,i){var n=t(i),r=n.data("bssettings");r&&r.slideAnimator&&t.isFunction(r.slideAnimator.resize)&&r.slideAnimator.resize(n,p(n,r),r)})},t.extend(jqBoxSlider,n);var a=function(e,i){var n=t();null!=i.next&&(n=n.add(t(i.next).on("click",{reverse:!1},c))),null!=i.prev&&(n=n.add(t(i.prev).on("click",{reverse:!0},c))),null!=i.pause&&(n=n.add(t(i.pause).on("click",d))),n.data("bsbox",e)},l=function(e){t(e.next,e.prev,e.pause).off("click",c).off("click",d).removeData("bsbox")},c=function(e){var n=t(this).data("bsbox");h(n),f(n,i,e.data.reverse),e.preventDefault()},d=function(e){var i=t(this),n=i.data("bsbox");u.call(n),i.toggleClass("paused"),e.preventDefault()},u=function(e,i,n){var r,s=t(this);n=n||s.data("bssettings"),r=null!=n.autointv,"function"==typeof n.onplaypause&&n.onplaypause.call(s,r?"pause":"play"),(!r&&!i||(n.autointv=clearInterval(n.autointv),i))&&(n.autointv=setInterval(function(){f(s)},n.timeout+n.speed))},f=function(e,i,n){var r,s,o,a,l=e.data("bssettings"),c=p(e,l);r=l.bsfaceindex||0,s=b(r,c.length,n,i),e.hasClass("jbs-in-motion")||-1===s||(o=c.eq(r),a=c.eq(s),e.addClass("jbs-in-motion"),"function"==typeof l.onbefore&&l.onbefore.call(e,o,a,r,s),t.extend(l,l.slideAnimator.transition(t.extend({$box:e,$slides:c,$currSlide:o,$nextSlide:a,reverse:n,currIndex:r,nextIndex:s},l))),setTimeout(function(){e.removeClass("jbs-in-motion"),o.removeClass("jbs-current"),a.addClass("jbs-current"),"function"==typeof l.onafter&&l.onafter.call(e,o,a,r,s)},l.speed),l.bsfaceindex=s)},p=function(e,t){var i=e.children();return"function"==typeof t.slideFilter&&(i=i.filter(t.slideFilter)),"function"==typeof t._slideFilter&&(i=i.filter(function(e){return t._slideFilter.call(i,e,t)})),i},h=function(e,t){t||(t=e.data("bssettings")||{}),t.autoScroll&&u.call(e,i,!0,t)},b=function(e,t,i,n){var r=n;return null==r&&(r=i?0>e-1?t-1:e-1:t>e+1?e+1:0),r===e||r>=t||0>r?-1:r},v=function(e,i,n,r){var s=e.get(0),o=["position","top","left","display","overflow","width","height","zIndex"].concat(r||[]);n.origCSS||(n.origCSS={}),n.origCSS[i]||(n.origCSS[i]={}),t.each(o,function(e,t){n.origCSS[i][t]=s.style[t]})},g=function(){var e=document.body.style,t="";return"webkitTransition"in e&&(t="-webkit-"),"MozTransition"in e&&(t="-moz-"),r="webkitPerspective"in e||"MozPerspective"in e||"perspective"in e,t}();t.fn.boxSlider=function(e){return"string"==typeof e&&"function"==typeof n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):n.init.apply(this,arguments)}})(window,jQuery||Zepto),function(e){e.jqBoxSlider=e.jqBoxSlider||{};var t=[],n=0,r=!1;jqBoxSlider.responder={isWatching:function(){return r},watch:function(i){t.push(i),r||$(e).on("resize",s)},stopWatching:function(n){var o=-1;$.each(t,function(e,t){return t===n?(o=e,!1):void 0}),-1!==i&&t.splice(o,1),0===t.length&&($(e).off("resize",s),r=!1)}};var s=function(){clearTimeout(n),n=setTimeout(function(){$.each(t,function(e,t){jqBoxSlider.resize(t)})},20)}}(this),function(e,t){e.jqBoxSlider.registerAnimator("blindDown,blindLeft",function(){var e={};e.initialize=function(n,r,s){s.blindCount=s.blindCount||10,s.blindSpeed=s.speed,s.blindintv=s.speed/s.blindCount,s.speed+=s.blindintv*s.blindCount,this._cacheOriginalCSS(n,"box",s),this._cacheOriginalCSS(r,"slides",s),s.$blinds=t("<div />").appendTo(n),e.applyStyling(n,r,s),s._slideFilter=i},e.applyStyling=function(e,i,r){var s=n(i.eq(r.bsfaceindex||0)),a=t(),l=0;for(r.blindSize=e.width()/r.blindCount;r.blindCount>l;++l)a=a.add(o(i,r.blindSize,s,l*r.blindSize));e.css("position","relative"),e.css({height:i.innerHeight(),overflow:"hidden"}),i.css({zIndex:1,position:"absolute",top:0,left:0}),r.$blinds.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:2}).html(a)},e.transition=function(e){var i=(e.$box.height(),e.$blinds.children());e.$slides.hide(),e.$nextSlide.show(),i.each(function(i,n){(function(){var s=e.blindintv*i,o=t(n);setTimeout(function(){o.animate(r(e),e.blindSpeed)},s)})()}),setTimeout(function(){i.css(s(e))},e.speed)},e.destroy=function(t,i){i.$blinds.remove(),e.reset(t,t.children(),i),i.speed=i.blindSpeed,delete i.blindCount,delete i.blindSpeed,delete i.blindintv,delete i.$blinds,delete i.blindSize},e.reset=function(e,t,i){var n=i.origCSS;n&&(i.$blinds.empty(),e.css(n.box),t.css(n.slides))},e.resize=function(t,i,n){e.reset(t,i,n),setTimeout(function(){e.applyStyling(t,i,n)},10)};var i=function(e,t){return this.get(e)!==t.$blinds.get(0)},n=function(e){return e.attr("src")||e.find("img").attr("src")},r=function(e){switch(e.effect){case"blindDown":return{top:"100%"};case"blindLeft":return{width:"0px"}}},s=function(e){var t={backgroundImage:"url("+n(e.$nextSlide)+")"};switch(e.effect){case"blindDown":t.top="0px";break;case"blindLeft":t.width=e.blindSize}return t},o=function(e,i,n,r){var s=e.innerWidth(),o=e.innerHeight();return t(document.createElement("div")).css({position:"absolute",top:"0px",left:r+"px",width:i+"px",height:"100%",backgroundImage:"url("+n+")",backgroundPosition:-r+"px 0px",backgroundSize:s+"px "+o+"px"})};return e}())}(window,jQuery||Zepto);